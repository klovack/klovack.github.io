{"version":3,"file":"phoneScreen-CzqspdXI.js","sources":["../../src/PhoneScreen/Contact/Contact.tsx","../../src/PhoneScreen/RealtimeDate/RealtimeDate.tsx","../../src/PhoneScreen/PhoneScreen.tsx"],"sourcesContent":["import { BiLogoGmail } from \"react-icons/bi\";\nimport { FaLinkedin, FaSquareGithub } from \"react-icons/fa6\";\nimport \"./Contact.scss\";\n\nexport default function Contact() {\n  const mailTo = () => {\n    const mail = {\n      email: \"fikriansyah@mrizki.com\",\n      subject: \"I have opportunity for you!\",\n      body: \"Hi Rizki, Do you have a chance to talk about a new opportunity?\",\n    };\n\n    return `mailto:${mail.email}?subject=${mail.subject}&body=${mail.body}`;\n  };\n\n  const linkedinStyle = {\n    color: \"#0077B5\",\n  };\n  const githubStyle = {\n    color: \"#24292E\",\n  };\n  const gmailStyle = {\n    color: \"#D14836\",\n  };\n\n  const iconProps = {\n    size: 80,\n  };\n\n  return (\n    <div className=\"contact\">\n      <div className=\"linked-in\">\n        <a\n          href=\"https://www.linkedin.com/in/rizkifikri/\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaLinkedin {...iconProps} style={linkedinStyle} />\n        </a>\n      </div>\n      <div className=\"github gh-user-klovack\">\n        <a\n          href=\"https://www.github.com/klovack\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaSquareGithub {...iconProps} style={githubStyle} />\n        </a>\n      </div>\n      <div className=\"github gh-user-rizki\">\n        <a\n          href=\"https://www.github.com/rizki-ampero\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaSquareGithub {...iconProps} style={githubStyle} />\n        </a>\n      </div>\n      <div className=\"email\">\n        <a href={mailTo()} target=\"_blank\" rel=\"noreferrer\">\n          <BiLogoGmail {...iconProps} style={gmailStyle} />\n        </a>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { getLang } from \"../../utils/getLang\";\nimport \"./RealtimeDate.scss\";\n\nexport default function RealtimeDate() {\n  const [time, setTime] = React.useState(new Date());\n\n  React.useEffect(() => {\n    // update date every 15 seconds\n    // because we never know when the user will open the page\n    // and we want to make sure the date is always up to date\n    const timer = setInterval(() => {\n      setTime(new Date());\n    }, 15 * 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  });\n  const timeDisplay = Intl.DateTimeFormat(getLang(), {\n    hour: \"numeric\",\n    minute: \"numeric\",\n    hour12: false,\n  }).format(time);\n  const dateDisplay = Intl.DateTimeFormat(getLang(), {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  }).format(time);\n\n  return (\n    <div className=\"datetime\">\n      <p className=\"time\">{timeDisplay}</p>\n      <p className=\"date\">{dateDisplay}</p>\n    </div>\n  );\n}\n","import { Html } from \"@react-three/drei\";\nimport { PrimitiveProps, useFrame } from \"@react-three/fiber\";\nimport React, { useEffect, useRef } from \"react\";\nimport { Group } from \"three\";\nimport { IoIosVolumeHigh, IoIosVolumeOff } from \"react-icons/io\";\nimport \"./PhoneScreen.scss\";\nimport Iphone from \"../Models/Phone/Iphone\";\nimport pointerEvents from \"../utils/pointerEvents\";\nimport Contact from \"./Contact/Contact\";\nimport RealtimeDate from \"./RealtimeDate/RealtimeDate\";\n\nconst phoneVibrate = new Audio(\"sfx/vibrate.m4a\");\nconst DURATION = {\n  PHONE_VIBRATE_INTERVAL: 60 * 1000,\n  SCREEN_ON: 180 * 1000,\n};\n\nconst timerId: NodeJS.Timeout[] = [];\n\nexport default function PhoneScreen(props: Omit<PrimitiveProps, \"object\">) {\n  const [phoneNotificationIds, setPhoneNotificationId] = React.useState<\n    NodeJS.Timeout[]\n  >([]);\n  const [isVibrating, setIsVibrating] = React.useState(false);\n  const [isScreenOn, setIsScreenOn] = React.useState(false);\n  const phoneRef = useRef<Group | null>(null);\n\n  const stopVibrating = (e?: React.MouseEvent) => {\n    e?.stopPropagation();\n    phoneVibrate.pause();\n    setIsVibrating(false);\n    phoneNotificationIds.forEach((id) => clearInterval(id));\n    timerId.forEach((id) => clearInterval(id));\n    setPhoneNotificationId([]);\n  };\n\n  const enableVibrating = (e?: React.MouseEvent) => {\n    e?.stopPropagation();\n    const id = setInterval(() => {\n      setIsVibrating(true);\n      phoneVibrate.play();\n      phoneVibrate.onended = () => {\n        setIsVibrating(false);\n      };\n    }, DURATION.PHONE_VIBRATE_INTERVAL);\n    timerId.push(id);\n    setPhoneNotificationId([...phoneNotificationIds, id]);\n    return id;\n  };\n\n  useFrame(({ clock }) => {\n    if (phoneRef.current && isVibrating && !!phoneNotificationIds) {\n      phoneRef.current.position.x +=\n        Math.sin(clock.getElapsedTime() * 1000) * 0.003;\n      phoneRef.current.position.z +=\n        Math.sin(clock.getElapsedTime() * 1000) * 0.003;\n      phoneRef.current.rotation.y +=\n        Math.sin(clock.getElapsedTime() * 1000) * 0.002;\n    }\n  });\n\n  // Add notification every 30 seconds\n  // if user hasn't interacted with the phone\n  useEffect(() => {\n    enableVibrating();\n    return () => {\n      timerId.forEach((id) => clearInterval(id));\n      timerId.splice(0, timerId.length);\n      phoneNotificationIds.forEach((id) => clearInterval(id));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <group\n        position={[2, -1, 0.95]}\n        rotation={[-Math.PI / 2, 0, -Math.PI / 12]}\n        scale={0.45}\n        ref={phoneRef}\n        {...props}\n        {...pointerEvents}\n        onClick={(e) => {\n          e.stopPropagation();\n          setIsScreenOn(true);\n          setTimeout(() => {\n            setIsScreenOn(false);\n          }, DURATION.SCREEN_ON);\n        }}\n      >\n        <Iphone castShadow receiveShadow />\n\n        {isScreenOn && (\n          <Html\n            wrapperClass=\"iphone-wrapper\"\n            occlude={\"blending\"}\n            transform\n            zIndexRange={[100, 0]}\n            position={[0.165, 1.33, 0.082]}\n            rotation={[0, 0, 0]}\n            distanceFactor={3.3}\n            scale={0.5}\n          >\n            <div className=\"iPhone\" onClick={stopVibrating}>\n              <div\n                className={\n                  \"volume-adjustment\" +\n                  (phoneNotificationIds.length > 0 ? \" vibrate\" : \"\")\n                }\n              >\n                {phoneNotificationIds.length === 0 ? (\n                  <IoIosVolumeOff\n                    onClick={enableVibrating}\n                    size={100}\n                    className=\"volume-off\"\n                  />\n                ) : (\n                  <IoIosVolumeHigh\n                    onClick={stopVibrating}\n                    size={100}\n                    className=\"volume-on\"\n                  />\n                )}\n              </div>\n              <RealtimeDate />\n\n              <Contact />\n            </div>\n          </Html>\n        )}\n      </group>\n    </>\n  );\n}\n"],"names":["Contact","mailTo","mail","linkedinStyle","githubStyle","gmailStyle","iconProps","jsxs","jsx","FaLinkedin","FaSquareGithub","BiLogoGmail","RealtimeDate","time","setTime","React","timer","timeDisplay","getLang","dateDisplay","phoneVibrate","DURATION","timerId","PhoneScreen","props","phoneNotificationIds","setPhoneNotificationId","isVibrating","setIsVibrating","isScreenOn","setIsScreenOn","phoneRef","useRef","stopVibrating","e","id","enableVibrating","useFrame","clock","useEffect","Fragment","pointerEvents","Iphone","Html","IoIosVolumeOff","IoIosVolumeHigh"],"mappings":"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"}