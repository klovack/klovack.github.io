import{u as I,T as M,r as n,j as e,d as R,e as j,f as T,g as E,h as k,i as B,P as N}from"./vendor-lPE38MKR.js";import{p as f}from"./utils-DBz9l2b2.js";import{u as b}from"./desktop-D7DZb2G_.js";const h={MODEL:"models",IMAGES:"images",SOUNDS:"sfx",FONTS:"fonts",MUSIC:"musics"},C={MACBOOK_URL:`${h.MODEL}/macbook.gltf`,IPHONE_URL:`${h.MODEL}/iphone.gltf`,SPEAKER_URL:`${h.MODEL}/speaker.glb`},D={INDIE_FLOWER_TTF:`${h.FONTS}/IndieFlower-Regular.ttf`,BEBAS_JSON:`${h.FONTS}/Bebas.json`,SILKSCREEN_JSON:`${h.FONTS}/Silkscreen_Regular.json`,NDOT_47_OTF:`${h.FONTS}/ndot-47/ndot-47.otf`},A={LOFI:{COZY_COFFEE:`${h.MUSIC}/lofi/cozy-coffee.mp3`}},G="/assets/arrow-Bg5y3KO9.png",u=.6,U=({direction:m="UP",mirror:i=!1,...t})=>{const r=I(M,G),l=n.useMemo(()=>{switch(m){case"UP":return i?[0,Math.PI,Math.PI+u]:[0,0,u];case"DOWN":return i?[0,Math.PI,0]:[0,0,Math.PI+u];case"LEFT":return i?[0,Math.PI,Math.PI/2+u]:[0,0,Math.PI/2+u];case"RIGHT":return i?[0,Math.PI,-Math.PI/2+u]:[0,0,-Math.PI/2+u];default:throw new Error(`Invalid direction: ${m}`)}},[m,i]),s=n.useMemo(()=>i?-1:1,[i]);return e.jsxs("mesh",{rotation:[...l],scale:s,...t,children:[e.jsx("planeGeometry",{args:[.5,.5]}),e.jsx("meshBasicMaterial",{map:r,transparent:!0})]})},w=({children:m,direction:i="UP",font:t=D.INDIE_FLOWER_TTF,fontSize:r,fontStyle:l,fontWeight:s,lineHeight:o,letterSpacing:g,textAlign:y,mirror:a,...c})=>{const x={font:t,fontSize:r,fontStyle:l,fontWeight:s,lineHeight:o,letterSpacing:g,textAlign:y},d=n.useMemo(()=>{switch(i){case"UP":return[.15,-.4,0];case"DOWN":return[-.15,.4,0];case"LEFT":return[.8,.2,.01];case"RIGHT":return[-.6,-.2,.01];default:throw new Error(`Invalid direction: ${i}`)}},[i]);return e.jsxs("group",{...c,children:[e.jsx(U,{direction:i,mirror:a}),e.jsx(R,{position:d,scale:.25,...x,children:m})]})},p={OPEN:[Math.PI/2.5+.06,0,0],CLOSE:[Math.PI,0,0]};function W({isInteractionEnabled:m=!0,initialStatus:i=1,openingAndClosingDuration:t=1e3,...r}){const{nodes:l,materials:s}=j(C.MACBOOK_URL),o=l,[g,y]=n.useState(i),[a,c]=T(()=>({rotation:p.CLOSE,config:{mass:2,tension:170,friction:26,duration:t,easing:E.easeOutCirc}})),{setIsMacbookOpen:x}=b(),d=()=>{switch(g){case 0:c.start({rotation:p.CLOSE,config:{easing:E.easeOutCirc}}),y(1);break;case 1:c.start({rotation:p.OPEN,config:{easing:E.easeOutBack}}),y(0);break;default:c.stop();break}};n.useEffect(()=>{g===0&&a.rotation.get()!==p.OPEN?c.start({rotation:p.OPEN,config:{easing:E.easeOutBack}}):g===1&&a.rotation.get()!==p.CLOSE&&c.start({rotation:p.CLOSE,config:{easing:E.easeOutCirc}})},[]);const F=O=>{O.stopPropagation(),m&&d()};return n.useEffect(()=>{x(g===0)},[g,x]),e.jsx(n.Suspense,{children:e.jsx("group",{...r,dispose:null,children:e.jsxs("group",{position:[0,.519,0],scale:.103,children:[e.jsx("mesh",{geometry:o.Circle001.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle001_1.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle001_2.geometry,material:s.HeadPhoneHole}),e.jsx("mesh",{geometry:o.Circle001_3.geometry,material:s.USB_C_INSIDE}),e.jsx("mesh",{geometry:o.Circle001_4.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle001_5.geometry,material:s.TouchbarBorder}),e.jsx("mesh",{geometry:o.Circle001_6.geometry,material:s.Keyboard}),e.jsxs("group",{position:[0,-.509,0],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle006.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle006_1.geometry,material:s.USB_C_INSIDE})]}),e.jsxs("group",{position:[-11.786,-.15,-8.301],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle.geometry,material:s["Keyboard.001"]}),e.jsx("mesh",{geometry:o.Circle_1.geometry,material:s.Key}),e.jsx("mesh",{geometry:o.Circle_2.geometry,material:s.DisplayGlass})]}),e.jsx("mesh",{geometry:o.KeyboardKeyHole.geometry,material:s["Keyboard.001"],position:[-11.786,-.152,-8.301],scale:5.796}),e.jsx("mesh",{geometry:o.RubberFoot.geometry,material:s.DarkRubber,position:[-11.951,-.751,7.857],scale:5.796}),e.jsxs("group",{position:[.011,-.211,-10.559],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle012.geometry,material:s.HingeBlack}),e.jsx("mesh",{geometry:o.Circle012_1.geometry,material:s.HingeMetal})]}),e.jsxs("group",{position:[-15.026,.031,.604],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle009.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle009_1.geometry,material:s.SpeakerHole})]}),e.jsxs("group",{position:[12.204,.031,.604],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle003.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle003_1.geometry,material:s.SpeakerHole})]}),e.jsxs(k.group,{position:[.007,-.392,-10.7],rotation:a.rotation.to((O,P,_)=>[O,P,_]),scale:5.796,onClick:F,...f,children:[e.jsx("mesh",{geometry:o.Circle002.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle002_1.geometry,material:s.Screen}),e.jsx("mesh",{geometry:o.Circle002_2.geometry,material:s.ScreenGlass}),e.jsx("mesh",{geometry:o.Circle002_3.geometry,material:s.Rubber}),e.jsx("mesh",{geometry:o.Circle002_4.geometry,material:s.DisplayGlass}),e.jsx("mesh",{geometry:o.AppleLogo000.geometry,material:s["AppleLogo.004"],position:[.005,-.111,-1.795],rotation:[Math.PI,Math.PI,-Math.PI],scale:.579})]})]})})})}j.preload(C.MACBOOK_URL);const S=n.createContext(null);let L={};const J=({children:m,maxIntensity:i,minIntensity:t,intensity:r})=>{const l=n.useRef(null),[s,o]=n.useState(r),g=n.useCallback((a,c)=>{if(a in L){const x=c?L[a]:-L[a];o(d=>Math.max(Math.min(i,d+x),t))}},[i,t]),y=n.useCallback((a,c)=>(L[a]=c,a),[]);return n.useEffect(()=>()=>{L={}},[]),e.jsxs(S.Provider,{value:{ambientLight:l,toggleLight:g,addDevice:y},children:[e.jsx("ambientLight",{intensity:s,color:"#BECFA5",ref:l}),m]})},v=()=>{const m=n.useContext(S);if(!m)throw new Error("useLighting must be used within a LightingProvider");return m};function V(m){var l;const{nodes:i,materials:t}=j(C.IPHONE_URL),r=i;return(l=t["Display.002"])==null||l.color.set("#000000"),e.jsx(n.Suspense,{children:e.jsx("group",{...m,dispose:null,children:e.jsxs("group",{position:[0,1.563,0],children:[e.jsx("mesh",{geometry:r.Circle038.geometry,material:t["FrameGrey.001"]}),e.jsx("mesh",{geometry:r.Circle038_1.geometry,material:t["Front.001"]}),e.jsx("mesh",{geometry:r.Circle038_2.geometry,material:t["Antennaline.001"]}),e.jsx("mesh",{geometry:r.Circle038_3.geometry,material:t["BackGrey.001"]}),e.jsx("mesh",{geometry:r.Circle038_4.geometry,material:t["Rubber.001"]}),e.jsx("mesh",{geometry:r.AntennaLineBottom001.geometry,material:t["Antennaline.001"],position:[0,-2.676,0]}),e.jsx("mesh",{geometry:r.AntennaLineTop001.geometry,material:t["Antennaline.001"],position:[0,.018,0]}),e.jsx("mesh",{geometry:r.AppleLogo001.geometry,material:t["AppleLogo.001"],position:[.171,.521,-.079]}),e.jsx("mesh",{geometry:r.BackCameraBottomGreyRing001.geometry,material:t["BackCaneraGrayRIng.002"],position:[.702,.884,-.094]}),e.jsx("mesh",{geometry:r.BackCameraBottomLens001.geometry,material:t["Lens.001"],position:[.702,.884,-.083]}),e.jsx("mesh",{geometry:r.BackCameraP1001.geometry,material:t["Black.015"],position:[.705,1.027,-.095]}),e.jsx("mesh",{geometry:r.BackCameraTopGreyRing001.geometry,material:t["BackCaneraGrayRIng.002"],position:[.702,1.178,-.094]}),e.jsx("mesh",{geometry:r.BackCameraTopLens001.geometry,material:t["Lens.001"],position:[.702,1.178,-.083]}),e.jsx("mesh",{geometry:r.CameraBump001.geometry,material:t["Frame.001"],position:[.704,1.036,-.079]}),e.jsx("mesh",{geometry:r.FlashBG001.geometry,material:t["PinkFlash.002"],position:[.705,1.027,-.093]}),e.jsx("mesh",{geometry:r.FrontCameraContainer001.geometry,material:t["FrontCameraBlack.002"],position:[.335,1.323,.08]}),e.jsx("mesh",{geometry:r.FrontSpeakerBG001.geometry,material:t["FrontSpeaker.001"],position:[.156,1.321,.077]}),e.jsx("mesh",{geometry:r.iPhoneLogo001.geometry,material:t["iPhoneLogo.001"],position:[.2,-1.175,-.079]}),e.jsx("mesh",{geometry:r.MuteSwitch001.geometry,material:t["FrameGrey.001"],position:[-.65,.92,.009]}),e.jsxs("group",{position:[.97,.562,-.004],children:[e.jsx("mesh",{geometry:r.Circle032.geometry,material:t["FrameGrey.001"]}),e.jsx("mesh",{geometry:r.Circle032_1.geometry,material:t["Frame.001"]})]}),e.jsxs("group",{position:[.978,-.043,0],children:[e.jsx("mesh",{geometry:r.Circle031.geometry,material:t["Black.014"]}),e.jsx("mesh",{geometry:r.Circle031_1.geometry,material:t["FrameGrey.001"]})]}),e.jsx("mesh",{geometry:r.SCREEN.geometry,material:t["Display.002"]}),e.jsx("mesh",{geometry:r.VolumeButtons001.geometry,material:t["FrameGrey.001"],position:[-.658,.208,-.002]})]})})})}j.preload(C.IPHONE_URL);const Y=({...m})=>{const i=j(C.SPEAKER_URL),t=n.useRef(null),[r,l]=n.useState(!1),s=B(i.animations,i.scene),{toggleLight:o,addDevice:g}=v(),y=g("Music",1);return n.useEffect(()=>{var a;(a=t.current)==null||a.setVolume(.8)},[]),n.useEffect(()=>{const a=s.actions.Play;return r?a==null||a.play():a==null||a.stop(),()=>{a==null||a.stop()}},[s.actions,r]),e.jsx(e.Fragment,{children:e.jsxs("primitive",{castShadow:!0,object:i.scene,position:[2.7,-1.05,-1.3],scale:.5,rotation:[0,-Math.PI/5,0],onClick:()=>{var a,c;r?((a=t.current)==null||a.stop(),l(!1)):((c=t.current)==null||c.play(),l(!0)),o(y,!r)},...m,...f,children:[e.jsx(w,{visible:!r,direction:"LEFT",position:[2,1,0],scale:1.5,children:"Play music"}),e.jsx(N,{url:A.LOFI.COZY_COFFEE,distance:10,ref:t})]})})};j.preload(C.SPEAKER_URL);export{D as F,V as I,J as L,W as M,Y as S,w as T,v as u};
//# sourceMappingURL=models-C4xk3OFY.js.map
