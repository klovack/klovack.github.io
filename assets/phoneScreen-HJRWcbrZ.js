import{j as e,a as I,b as k,k as _,c as P,R as h,I as O,l as w,r as l,m as y,n as S,o as R,p as V,q as C,s as F}from"./vendor-lPE38MKR.js";import{I as T}from"./models-C4xk3OFY.js";import{g as v,p as D}from"./utils-DBz9l2b2.js";import{a as z}from"./desktop-D7DZb2G_.js";import{l as E}from"./lodash-oNHrlTz8.js";function M(){const n=()=>{const r={email:"fikriansyah@mrizki.com",subject:"I have opportunity for you!",body:"Hi Rizki, Do you have a chance to talk about a new opportunity?"};return`mailto:${r.email}?subject=${r.subject}&body=${r.body}`},s={color:"#0077B5"},a={color:"#24292E"},c={color:"#D14836"},o={size:80};return e.jsxs("div",{className:"contact",children:[e.jsx("div",{className:"linked-in",children:e.jsx("a",{href:"https://www.linkedin.com/in/rizkifikri/",target:"_blank",rel:"noreferrer",children:e.jsx(I,{...o,style:s})})}),e.jsx("div",{className:"github gh-user-klovack",children:e.jsx("a",{href:"https://www.github.com/klovack",target:"_blank",rel:"noreferrer",children:e.jsx(k,{...o,style:a})})}),e.jsx("div",{className:"github gh-user-rizki",children:e.jsx("a",{href:"https://x.com/rizkifikri",target:"_blank",rel:"noreferrer",children:e.jsx(_,{...o,style:a})})}),e.jsx("div",{className:"email",children:e.jsx("a",{href:n(),target:"_blank",rel:"noreferrer",children:e.jsx(P,{...o,style:c})})})]})}function A(){const[n,s]=h.useState(new Date);h.useEffect(()=>{const o=setInterval(()=>{s(new Date)},15e3);return()=>{clearInterval(o)}});const a=Intl.DateTimeFormat(v(),{hour:"numeric",minute:"numeric",hour12:!1}).format(n),c=Intl.DateTimeFormat(v(),{year:"numeric",month:"short",day:"numeric"}).format(n);return e.jsxs("div",{className:"datetime",children:[e.jsx("p",{className:"time",children:a}),e.jsx("p",{className:"date",children:c})]})}const B=({phoneNotificationIds:n,onVolumeOff:s,onVolumeHigh:a})=>e.jsx("div",{className:"volume-adjustment"+(n.length>0?" vibrate":""),children:n.length===0?e.jsx(O,{onClick:s,size:100,className:"volume-off"}):e.jsx(w,{onClick:a,size:100,className:"volume-on"})}),H=({onPowerOff:n,className:s,...a})=>{const[c,o]=l.useState(!1),r=l.useMemo(()=>E.debounce(()=>{n()},y?100:1e3),[n]),f=`phone-off-button ${s}`;return e.jsx("button",{...a,className:f+(c?" powering-off":""),onPointerDown:i=>{i.stopPropagation(),r(),o(!0)},onPointerUp:i=>{i.stopPropagation(),r.cancel(),o(!1)},onPointerLeave:i=>{i.stopPropagation(),r.cancel(),o(!1)},children:e.jsx(S,{size:40})})},L=({isShowing:n=!1})=>{const[s,a]=l.useState(n),c=`phone-notification ${s?"":" hidden"}`;return e.jsxs("div",{className:c,onClick:()=>a(!1),children:[e.jsx("div",{className:"phone-notification__icon",children:e.jsx(R,{size:60})}),e.jsxs("div",{className:"phone-notification__content",children:[e.jsx("h1",{className:"phone-notification__content__title",children:"Remember!"}),e.jsx("p",{className:"phone-notification__content__message",children:"Don't forget to check my social media!"})]})]})},p=new Audio("sfx/vibrate.m4a");p.volume=.5;const d={PHONE_VIBRATE_INTERVAL:60*1e3,SCREEN_ON:180*1e3,SCREEN_OFF:5*1e3},m=[];function X(n){const[s,a]=h.useState([]),[c,o]=h.useState(!1),[r,f]=h.useState(!1),i=l.useRef(null),j=l.useRef(null),x=V(),g=l.useMemo(()=>E.debounce(()=>{f(!1)},d.SCREEN_OFF,{trailing:!0,maxWait:d.SCREEN_OFF}),[]);z(j,()=>{g()});const b=t=>{t==null||t.stopPropagation(),p.pause(),o(!1),s.forEach(u=>clearInterval(u)),m.forEach(u=>clearInterval(u)),a([]),g.cancel()},N=t=>{t==null||t.stopPropagation();const u=setInterval(()=>{o(!0),p.play(),p.onended=()=>{o(!1)}},d.PHONE_VIBRATE_INTERVAL);return m.push(u),a([...s,u]),g.cancel(),u};return C(({clock:t})=>{i.current&&c&&s&&(i.current.position.x+=Math.sin(t.getElapsedTime()*1e3)*.003,i.current.position.z+=Math.sin(t.getElapsedTime()*1e3)*.003,i.current.rotation.y+=Math.sin(t.getElapsedTime()*1e3)*.002)}),l.useEffect(()=>(N(),()=>{m.forEach(t=>clearInterval(t)),m.splice(0,m.length),s.forEach(t=>clearInterval(t))}),[]),l.useEffect(()=>{r?i.current&&x.refresh(i.current).clip().fit():x.refresh().fit()},[r,x]),e.jsx(e.Fragment,{children:e.jsxs("group",{position:[2,-1,.95],rotation:[-Math.PI/2,0,-Math.PI/12],scale:.45,ref:i,...n,...D,onClick:t=>{t.stopPropagation(),f(!0),setTimeout(()=>{f(!1)},d.SCREEN_ON)},children:[e.jsx(T,{castShadow:!0,receiveShadow:!0}),r&&e.jsx(l.Suspense,{children:e.jsx(F,{wrapperClass:"iphone-wrapper",occlude:"blending",transform:!0,zIndexRange:[100,0],position:[.165,1.33,.082],rotation:[0,0,0],distanceFactor:3.3,scale:.5,ref:j,children:e.jsxs("div",{className:"iPhone",onClick:b,children:[e.jsx(L,{isShowing:s.length>0}),e.jsx(H,{className:"phone-off",onPowerOff:()=>f(!1)}),e.jsx(B,{phoneNotificationIds:s,onVolumeOff:N,onVolumeHigh:b}),e.jsx(A,{}),e.jsx(M,{})]})})})]})})}export{X as P};
//# sourceMappingURL=phoneScreen-HJRWcbrZ.js.map
