import{u as I,T as R,r as m,j as e,e as M,f as x,g as k,h as C,i as B,k as T,P as b}from"./vendor-xBiLovak.js";import{p as S}from"./utils-DNdCMZ6f.js";import{u as N}from"./desktop-B5dzp7rB.js";const u={MODEL:"models",IMAGES:"images",SOUNDS:"sfx",FONTS:"fonts",MUSIC:"musics"},j={MACBOOK_URL:`${u.MODEL}/macbook.gltf`,IPHONE_URL:`${u.MODEL}/iphone.gltf`,SPEAKER_URL:`${u.MODEL}/speaker.glb`},A={INDIE_FLOWER_TTF:`${u.FONTS}/IndieFlower-Regular.ttf`,HANDJET_JSON:`${u.FONTS}/Handjet.json`,BEBAS_JSON:`${u.FONTS}/Bebas.json`},D={LOFI:{COZY_COFFEE:`${u.MUSIC}/lofi/cozy-coffee.mp3`}},G="/assets/arrow-Bg5y3KO9.png",E=.6,U=({direction:n="UP",...i})=>{const t=I(R,G),r=m.useMemo(()=>{switch(n){case"UP":return[0,0,E];case"DOWN":return[0,0,Math.PI+E];case"LEFT":return[0,0,Math.PI/2+E];case"RIGHT":return[0,0,-Math.PI/2+E];default:throw new Error(`Invalid direction: ${n}`)}},[n]);return e.jsxs("mesh",{rotation:[...r],...i,children:[e.jsx("planeGeometry",{args:[.5,.5]}),e.jsx("meshBasicMaterial",{map:t,transparent:!0})]})},w=({children:n,direction:i="UP",font:t=A.INDIE_FLOWER_TTF,fontSize:r,fontStyle:c,fontWeight:s,lineHeight:o,letterSpacing:g,textAlign:y,...a})=>{const l={font:t,fontSize:r,fontStyle:c,fontWeight:s,lineHeight:o,letterSpacing:g,textAlign:y},p=m.useMemo(()=>{switch(i){case"UP":return[.15,-.4,0];case"DOWN":return[-.15,.4,0];case"LEFT":return[.8,.2,0];case"RIGHT":return[-.6,-.3,0];default:throw new Error(`Invalid direction: ${i}`)}},[i]);return e.jsxs("group",{...a,children:[e.jsx(U,{direction:i}),e.jsx(M,{position:p,scale:.25,...l,children:n})]})},h={OPEN:[Math.PI/2.5+.06,0,0],CLOSE:[Math.PI,0,0]};function W({isInteractionEnabled:n=!0,initialStatus:i=1,openingAndClosingDuration:t=1e3,...r}){const{nodes:c,materials:s}=x(j.MACBOOK_URL),o=c,[g,y]=m.useState(i),[a,l]=k(()=>({rotation:h.CLOSE,config:{mass:2,tension:170,friction:26,duration:t,easing:C.easeOutCirc}})),{setIsMacbookOpen:p}=N(),L=()=>{switch(g){case 0:l.start({rotation:h.CLOSE,config:{easing:C.easeOutCirc}}),y(1);break;case 1:l.start({rotation:h.OPEN,config:{easing:C.easeOutBack}}),y(0);break;default:l.stop();break}};m.useEffect(()=>{g===0&&a.rotation.get()!==h.OPEN?l.start({rotation:h.OPEN,config:{easing:C.easeOutBack}}):g===1&&a.rotation.get()!==h.CLOSE&&l.start({rotation:h.CLOSE,config:{easing:C.easeOutCirc}})},[]);const f=O=>{O.stopPropagation(),n&&L()};return m.useEffect(()=>{p(g===0)},[g,p]),e.jsx(m.Suspense,{children:e.jsx("group",{...r,dispose:null,children:e.jsxs("group",{position:[0,.519,0],scale:.103,children:[e.jsx("mesh",{geometry:o.Circle001.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle001_1.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle001_2.geometry,material:s.HeadPhoneHole}),e.jsx("mesh",{geometry:o.Circle001_3.geometry,material:s.USB_C_INSIDE}),e.jsx("mesh",{geometry:o.Circle001_4.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle001_5.geometry,material:s.TouchbarBorder}),e.jsx("mesh",{geometry:o.Circle001_6.geometry,material:s.Keyboard}),e.jsxs("group",{position:[0,-.509,0],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle006.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle006_1.geometry,material:s.USB_C_INSIDE})]}),e.jsxs("group",{position:[-11.786,-.15,-8.301],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle.geometry,material:s["Keyboard.001"]}),e.jsx("mesh",{geometry:o.Circle_1.geometry,material:s.Key}),e.jsx("mesh",{geometry:o.Circle_2.geometry,material:s.DisplayGlass})]}),e.jsx("mesh",{geometry:o.KeyboardKeyHole.geometry,material:s["Keyboard.001"],position:[-11.786,-.152,-8.301],scale:5.796}),e.jsx("mesh",{geometry:o.RubberFoot.geometry,material:s.DarkRubber,position:[-11.951,-.751,7.857],scale:5.796}),e.jsxs("group",{position:[.011,-.211,-10.559],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle012.geometry,material:s.HingeBlack}),e.jsx("mesh",{geometry:o.Circle012_1.geometry,material:s.HingeMetal})]}),e.jsxs("group",{position:[-15.026,.031,.604],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle009.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle009_1.geometry,material:s.SpeakerHole})]}),e.jsxs("group",{position:[12.204,.031,.604],scale:5.796,children:[e.jsx("mesh",{geometry:o.Circle003.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle003_1.geometry,material:s.SpeakerHole})]}),e.jsxs(B.group,{position:[.007,-.392,-10.7],rotation:a.rotation.to((O,_,P)=>[O,_,P]),scale:5.796,onClick:f,...S,children:[e.jsx("mesh",{geometry:o.Circle002.geometry,material:s["Frame.001"]}),e.jsx("mesh",{geometry:o.Circle002_1.geometry,material:s.Screen}),e.jsx("mesh",{geometry:o.Circle002_2.geometry,material:s.ScreenGlass}),e.jsx("mesh",{geometry:o.Circle002_3.geometry,material:s.Rubber}),e.jsx("mesh",{geometry:o.Circle002_4.geometry,material:s.DisplayGlass}),e.jsx("mesh",{geometry:o.AppleLogo000.geometry,material:s["AppleLogo.004"],position:[.005,-.111,-1.795],rotation:[Math.PI,Math.PI,-Math.PI],scale:.579})]})]})})})}x.preload(j.MACBOOK_URL);const F=m.createContext(null);let d={};const J=({children:n,maxIntensity:i,minIntensity:t,intensity:r})=>{const c=m.useRef(null),[s,o]=m.useState(r),g=m.useCallback((a,l)=>{if(a in d){const p=l?d[a]:-d[a];o(L=>Math.max(Math.min(i,L+p),t))}},[i,t]),y=m.useCallback((a,l)=>(d[a]=l,a),[]);return m.useEffect(()=>()=>{d={}},[]),e.jsxs(F.Provider,{value:{ambientLight:c,toggleLight:g,addDevice:y},children:[e.jsx("ambientLight",{intensity:s,color:"#BECFA5",ref:c}),n]})},v=()=>{const n=m.useContext(F);if(!n)throw new Error("useLighting must be used within a LightingProvider");return n};function Y(n){var c;const{nodes:i,materials:t}=x(j.IPHONE_URL),r=i;return(c=t["Display.002"])==null||c.color.set("#000000"),e.jsx(m.Suspense,{children:e.jsx("group",{...n,dispose:null,children:e.jsxs("group",{position:[0,1.563,0],children:[e.jsx("mesh",{geometry:r.Circle038.geometry,material:t["FrameGrey.001"]}),e.jsx("mesh",{geometry:r.Circle038_1.geometry,material:t["Front.001"]}),e.jsx("mesh",{geometry:r.Circle038_2.geometry,material:t["Antennaline.001"]}),e.jsx("mesh",{geometry:r.Circle038_3.geometry,material:t["BackGrey.001"]}),e.jsx("mesh",{geometry:r.Circle038_4.geometry,material:t["Rubber.001"]}),e.jsx("mesh",{geometry:r.AntennaLineBottom001.geometry,material:t["Antennaline.001"],position:[0,-2.676,0]}),e.jsx("mesh",{geometry:r.AntennaLineTop001.geometry,material:t["Antennaline.001"],position:[0,.018,0]}),e.jsx("mesh",{geometry:r.AppleLogo001.geometry,material:t["AppleLogo.001"],position:[.171,.521,-.079]}),e.jsx("mesh",{geometry:r.BackCameraBottomGreyRing001.geometry,material:t["BackCaneraGrayRIng.002"],position:[.702,.884,-.094]}),e.jsx("mesh",{geometry:r.BackCameraBottomLens001.geometry,material:t["Lens.001"],position:[.702,.884,-.083]}),e.jsx("mesh",{geometry:r.BackCameraP1001.geometry,material:t["Black.015"],position:[.705,1.027,-.095]}),e.jsx("mesh",{geometry:r.BackCameraTopGreyRing001.geometry,material:t["BackCaneraGrayRIng.002"],position:[.702,1.178,-.094]}),e.jsx("mesh",{geometry:r.BackCameraTopLens001.geometry,material:t["Lens.001"],position:[.702,1.178,-.083]}),e.jsx("mesh",{geometry:r.CameraBump001.geometry,material:t["Frame.001"],position:[.704,1.036,-.079]}),e.jsx("mesh",{geometry:r.FlashBG001.geometry,material:t["PinkFlash.002"],position:[.705,1.027,-.093]}),e.jsx("mesh",{geometry:r.FrontCameraContainer001.geometry,material:t["FrontCameraBlack.002"],position:[.335,1.323,.08]}),e.jsx("mesh",{geometry:r.FrontSpeakerBG001.geometry,material:t["FrontSpeaker.001"],position:[.156,1.321,.077]}),e.jsx("mesh",{geometry:r.iPhoneLogo001.geometry,material:t["iPhoneLogo.001"],position:[.2,-1.175,-.079]}),e.jsx("mesh",{geometry:r.MuteSwitch001.geometry,material:t["FrameGrey.001"],position:[-.65,.92,.009]}),e.jsxs("group",{position:[.97,.562,-.004],children:[e.jsx("mesh",{geometry:r.Circle032.geometry,material:t["FrameGrey.001"]}),e.jsx("mesh",{geometry:r.Circle032_1.geometry,material:t["Frame.001"]})]}),e.jsxs("group",{position:[.978,-.043,0],children:[e.jsx("mesh",{geometry:r.Circle031.geometry,material:t["Black.014"]}),e.jsx("mesh",{geometry:r.Circle031_1.geometry,material:t["FrameGrey.001"]})]}),e.jsx("mesh",{geometry:r.SCREEN.geometry,material:t["Display.002"]}),e.jsx("mesh",{geometry:r.VolumeButtons001.geometry,material:t["FrameGrey.001"],position:[-.658,.208,-.002]})]})})})}x.preload(j.IPHONE_URL);const Z=({...n})=>{const i=x(j.SPEAKER_URL),t=m.useRef(null),[r,c]=m.useState(!1),s=T(i.animations,i.scene),{toggleLight:o,addDevice:g}=v(),y=g("Music",1);return m.useEffect(()=>{const a=s.actions.Play;return r?a==null||a.play():a==null||a.stop(),()=>{a==null||a.stop()}},[s.actions,r]),e.jsx(e.Fragment,{children:e.jsxs("primitive",{castShadow:!0,object:i.scene,position:[2.7,-1.05,-1.3],scale:.5,rotation:[0,-Math.PI/5,0],onClick:()=>{var a,l;r?((a=t.current)==null||a.pause(),c(!1)):((l=t.current)==null||l.play(),c(!0)),o(y,!r)},...n,...S,children:[e.jsx(w,{visible:!r,direction:"LEFT",position:[2,1,0],scale:1.5,children:"Play music"}),e.jsx(b,{url:D.LOFI.COZY_COFFEE,distance:3,ref:t})]})})};x.preload(j.SPEAKER_URL);export{A as F,Y as I,J as L,W as M,Z as S,w as T,v as u};
//# sourceMappingURL=models-CbD3qXGu.js.map
